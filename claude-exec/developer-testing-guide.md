# Achick 電子雞開發者實測指南

## 測試目的
驗證 Achick 電子雞遊戲的所有核心功能是否正常運作，確保用戶體驗完整且穩定。

## 測試環境準備

### 前置條件
- Node.js 版本：18+
- Angular CLI 版本：18.2+
- 瀏覽器：Chrome/Firefox/Safari 最新版本
- 螢幕解析度：建議 1920x1080 或以上

### 啟動測試環境
```bash
cd /path/to/achick
npm install
npm run start
```
開啟瀏覽器訪問 `http://localhost:4200`

---

## 測試項目分類

### A. 基礎系統測試

#### A1. 歡迎頁面測試
**測試目標**: 驗證歡迎頁動畫和場景切換功能

**測試步驟**:
1. 開啟應用程式，確認歡迎頁面正常顯示
2. 觀察背景動畫是否連續向右滾動（15秒週期）
3. 確認「START!」按鈕有漂浮動畫效果
4. 點擊「START!」按鈕
5. 觀察歡迎頁面向上滑動消失動畫
6. 確認房間場景正常載入且位置置中

**預期結果**:
- ✅ 背景動畫流暢無縫循環
- ✅ START 按鈕有漂浮效果和 hover 樣式
- ✅ 點擊後場景切換動畫流暢
- ✅ 房間場景正確置中顯示

#### A2. 房間界面佈局測試
**測試目標**: 驗證房間界面各元件位置和響應式設計

**測試步驟**:
1. 確認房間背景圖片正確顯示
2. 檢查 Header（頂部欄）位置和內容
3. 檢查 Sidebar（左側按鈕欄）位置和按鈕
4. 檢查 Window（窗戶）位置和尺寸
5. 檢查 Character（角色區域）位置
6. 檢查 Bed（床鋪）位置
7. 檢查 StatusBar（底部狀態欄）顯示

**預期結果**:
- ✅ 所有 UI 元件位置正確
- ✅ 房間背景圖片比例正確
- ✅ 各元件層級顯示正常
- ✅ 房間可水平滾動查看完整場景

### B. 核心遊戲功能測試

#### B1. 電子雞出生流程測試
**測試目標**: 驗證完整的電子雞出生和命名流程

**測試步驟**:
1. 確認角色區域顯示「點擊按鈕出生」按鈕
2. 點擊出生按鈕
3. 觀察「出生中…」白色覆蓋層動畫（約7秒）
4. 確認蛋圖片根據稀有度正確顯示
5. 點擊蛋圖片觸發命名彈窗
6. 輸入電子雞名字（測試14字符限制）
7. 點擊「確認孵化」
8. 觀察「孵化中…」覆蓋層動畫
9. 確認角色轉換為幼體狀態
10. 觀察金幣增加浮動動畫

**預期結果**:
- ✅ 出生按鈕正確顯示和點擊
- ✅ 出生動畫流暢播放
- ✅ 蛋圖片根據稀有度正確顯示（BAD/NORMAL/SPECIAL/SUPER_SPECIAL）
- ✅ 命名彈窗正確彈出和驗證
- ✅ 孵化動畫正常播放
- ✅ 角色正確轉換為幼體
- ✅ 金幣增加動畫正確觸發
- ✅ Header 金幣數量正確更新

#### B2. 撫摸互動測試
**測試目標**: 驗證撫摸事件的完整功能

**測試步驟**:
1. 確認電子雞已出生且為幼體狀態
2. 點擊電子雞角色進行撫摸
3. 觀察 toastr 訊息顯示
4. 連續撫摸觀察好感度變化
5. 連續撫摸15次直到達到上限
6. 繼續點擊確認拒絕訊息
7. 等待2秒冷卻時間後再次嘗試
8. 重複撫摸觀察金幣獎勵機率（約15%）

**預期結果**:
- ✅ 點擊角色觸發撫摸事件
- ✅ 好感度正確增加（+0.05）
- ✅ toastr 訊息正確顯示
- ✅ 達到15次上限後顯示拒絕訊息
- ✅ 2秒冷卻機制正常
- ✅ 15%機率獲得金幣獎勵
- ✅ 金幣獎勵根據生命週期正確計算

#### B3. 飢餓系統測試
**測試目標**: 驗證飢餓度降低和狀態變化

**測試步驟**:
1. 確認電子雞當前飢餓度狀態
2. 等待觀察飢餓度是否會隨時間降低
3. 觀察飢餓度降至35以下時的狀態變化
4. 檢查狀態欄是否顯示「飢餓」狀態
5. 繼續等待觀察飢餓懲罰機制

**預期結果**:
- ✅ 飢餓度根據飢餓速度逐漸降低
- ✅ 飢餓度≤35時激活飢餓狀態
- ✅ 狀態欄正確顯示飢餓狀態
- ✅ 飢餓懲罰機制正確執行
- ✅ toastr 顯示飢餓懲罰訊息

### B4. 髒污觸發系統測試
**測試目標**: 驗證環境髒污管理和懲罰機制

**測試步驟**:
1. 確認電子雞已出生且 rare 不為 null
2. 觀察髒污物件累積機制（每1小時新增一個）
3. 檢查髒污物件數量上限（最多3個）
4. 觀察髒污物件編號分配（1、2、3）
5. 等待髒污物件存在20分鐘後的懲罰觸發
6. 確認懲罰數值扣除（健康度-1、好感度-1）
7. 檢查 toastr 懲罰訊息顯示

**預期結果**:
- ✅ 電子雞出生1小時後出現第一個髒污物件
- ✅ 髒污物件數量最多為3個
- ✅ 髒污物件編號正確分配（1-3）
- ✅ 髒污物件存在20分鐘後觸發懲罰
- ✅ 健康度和好感度正確扣除且不會小於0
- ✅ toastr 顯示「{{電子雞名字}}因環境骯髒而身心靈受創，健康度-1，好感度-1」
- ✅ 系統狀態檢查正確（rare、timeStoping）

### C. 用戶界面測試

#### C1. Header 功能測試
**測試目標**: 驗證頂部欄各功能正常

**測試步驟**:
1. 確認 Logo 正確顯示
2. 確認實時時間正確顯示和更新
3. 確認金幣數量正確顯示
4. 點擊商店圖示
5. 點擊圖鑑圖示

**預期結果**:
- ✅ Logo 清晰顯示
- ✅ 時間每秒更新
- ✅ 金幣數量與實際一致
- ✅ 商店和圖鑑按鈕可點擊（如已實作）

#### C2. StatusBar 狀態欄測試
**測試目標**: 驗證狀態欄顯示和互動功能

**測試步驟**:
1. 確認底部狀態欄正確顯示電子雞基本資訊
2. 點擊右側「狀態」按鈕
3. 觀察狀態面板滑入動畫
4. 確認四項數值（生命值、好感度、飽足感、健康度）正確顯示
5. 再次點擊狀態按鈕收起面板
6. 確認 toastr 位置隨狀態面板調整

**預期結果**:
- ✅ 電子雞基本資訊正確顯示
- ✅ 狀態按鈕點擊正常
- ✅ 狀態面板滑入/滑出動畫流暢
- ✅ 四項數值正確顯示和更新
- ✅ toastr 位置正確調整

#### C3. Sidebar 側邊欄測試
**測試目標**: 驗證左側功能按鈕

**測試步驟**:
1. 確認左側按鈕欄正確顯示
2. 觀察按鈕 hover 效果
3. 點擊各功能按鈕（電燈、睡眠、餵食）

**預期結果**:
- ✅ 側邊欄按鈕正確顯示
- ✅ hover 效果正常
- ✅ 按鈕點擊響應（如功能已實作）

#### C4. Toastr 訊息系統測試
**測試目標**: 驗證通知訊息系統

**測試步驟**:
1. 透過撫摸事件觸發各種 toastr 訊息
2. 觀察訊息進入動畫
3. 確認訊息自動消失時間
4. 觀察訊息移除動畫
5. 測試狀態面板展開時的位置調整

**預期結果**:
- ✅ toastr 訊息正確顯示
- ✅ 進入動畫流暢
- ✅ 5秒後自動消失
- ✅ 移除動畫正確執行
- ✅ 位置隨狀態面板正確調整

### D. 數據持久化測試

#### D1. localStorage 測試
**測試目標**: 驗證遊戲數據正確保存和載入

**測試步驟**:
1. 完成一輪完整遊戲流程（出生、命名、撫摸）
2. 記錄當前電子雞狀態和金幣數量
3. 重新整理頁面
4. 確認數據正確恢復
5. 關閉瀏覽器分頁重新開啟
6. 再次確認數據持久化

**預期結果**:
- ✅ 電子雞狀態正確保存
- ✅ 金幣數量正確保存
- ✅ 使用者飼養歷程正確記錄
- ✅ 頁面重新載入後數據完整恢復

#### D2. 服務狀態測試
**測試目標**: 驗證各服務狀態正確維護

**測試步驟**:
1. 檢查撫摸次數計數是否正確累積
2. 檢查飢餓管理服務是否正常運行
3. 檢查髒污觸發服務是否正常運行
4. 檢查金幣服務響應式更新
5. 重新載入頁面後檢查服務狀態恢復

**預期結果**:
- ✅ 撫摸次數正確計數和重置
- ✅ 飢餓系統持續運行
- ✅ 髒污觸發系統計時器正常運行
- ✅ 髒污物件狀態正確維護
- ✅ 金幣服務響應式更新正常
- ✅ 頁面重載後服務狀態正確恢復

### E. 邊界條件測試

#### E1. 數值邊界測試
**測試目標**: 驗證各數值在邊界條件下的行為

**測試步驟**:
1. 測試好感度達到上限後的撫摸行為
2. 測試撫摸次數達到15次上限的處理
3. 測試飢餓度降至0的狀況
4. 測試髒污物件達到3個上限的處理
5. 測試健康度和好感度降至0的處理
6. 測試金幣為0時的顯示

**預期結果**:
- ✅ 好感度上限時顯示正確訊息
- ✅ 撫摸上限時正確拒絕
- ✅ 飢餓度邊界值處理正確
- ✅ 髒污物件達到上限時停止新增
- ✅ 健康度和好感度扣除時不會小於0
- ✅ 金幣為0時正常顯示

#### E2. 異常狀況測試
**測試目標**: 驗證系統對異常狀況的處理

**測試步驟**:
1. 快速連續點擊測試冷卻機制
2. 在動畫播放期間嘗試其他操作
3. 測試極長名字輸入的處理
4. 測試空白名字的驗證
5. 測試 timeStoping 為 true 時的系統行為
6. 測試電子雞 rare 為 null 時的服務重置

**預期結果**:
- ✅ 冷卻機制正確防止連點
- ✅ 動畫期間正確處理用戶操作
- ✅ 名字長度限制正確執行
- ✅ 空白名字正確拒絕
- ✅ timeStoping 狀態正確暫停相關系統
- ✅ rare 為 null 時正確重置服務狀態

---

## 效能測試

### F1. 動畫效能測試
**測試目標**: 驗證動畫流暢度和效能

**測試步驟**:
1. 觀察角色浮動動畫是否流暢
2. 觀察影子動畫同步性
3. 檢查歡迎頁背景動畫效能
4. 測試多個動畫同時播放的效能

**預期結果**:
- ✅ 所有動畫維持 60fps 流暢度
- ✅ 角色和影子動畫同步
- ✅ 背景動畫不影響其他功能
- ✅ 同時動畫不造成效能問題

### F2. 記憶體使用測試
**測試目標**: 驗證長時間使用的記憶體穩定性

**測試步驟**:
1. 長時間運行應用程式（30分鐘以上）
2. 重複執行各種操作
3. 觀察瀏覽器記憶體使用情況
4. 檢查是否有記憶體洩漏
5. 特別檢查髒污觸發服務的計時器清理

**預期結果**:
- ✅ 記憶體使用穩定
- ✅ 無明顯記憶體洩漏
- ✅ 計時器正確清理（撫摸、飢餓、髒污觸發）
- ✅ 長時間運行穩定
- ✅ 髒污觸發服務計時器無洩漏

---

## 測試報告格式

### 測試結果記錄
每個測試項目請記錄：
- **測試項目**: [項目編號和名稱]
- **測試時間**: [測試執行時間]
- **測試結果**: ✅ 通過 / ❌ 失敗 / ⚠️ 部分通過
- **問題描述**: [如有問題，詳細描述]
- **重現步驟**: [問題重現的具體步驟]
- **嚴重程度**: 🔴 嚴重 / 🟡 中等 / 🟢 輕微

### 整體測試總結
- **總測試項目數**: [數量]
- **通過項目數**: [數量]
- **失敗項目數**: [數量]
- **通過率**: [百分比]
- **主要問題**: [列出主要問題]
- **建議修復優先順序**: [依嚴重程度排序]

---

## 測試注意事項

1. **測試環境一致性**: 確保在相同環境下進行測試
2. **數據清理**: 必要時清理 localStorage 重新測試
3. **多瀏覽器測試**: 在不同瀏覽器中重複關鍵測試
4. **網路狀況**: 在不同網路環境下測試載入效能
5. **設備測試**: 如可能，在不同設備上測試響應式設計

## 快速檢查清單

- [ ] 歡迎頁動畫和場景切換
- [ ] 電子雞出生完整流程
- [ ] 撫摸互動和好感度系統
- [ ] 飢餓系統運作
- [ ] 髒污觸發系統運作
- [ ] 金幣系統和動畫
- [ ] 狀態欄顯示和互動
- [ ] toastr 訊息系統
- [ ] 數據持久化
- [ ] 計時器系統（撫摸、飢餓、髒污觸發）
- [ ] 動畫效能
- [ ] 響應式設計
- [ ] 錯誤處理
- [ ] 邊界條件處理

---

**測試完成後請將結果記錄到 `/claude-exec/testing-results.md` 文件中。**